<h1>
  Vòng đời của React
  <a
    href="https://react.dev/learn/lifecycle-of-reactive-effects"
    target="_blank"
    rel="noopener noreferrer"
    >links</a
  >
</h1>

<img src="img/chap11/1.png" width="100%" alt="" />
<ol>
  <p class="text-danger">Với React vòng đời của nó sẽ có 3 giai đoạn</p>
  <li>Mounting: Vẽ dao diện (vẽ html )</li>
  <li>Update: cập nhật lại dao diện</li>
  <li>unMount:Dao diện được xoá đi</li>
</ol>

<p class="text-info">
  Theo kiến thức đã học, ta sẽ gọi API get list Users kiểu này.

  <img src="img/chap10/14.png" width="100%" alt="" />
</p>
<p class="text-warning">
  Về bản chất React sẽ luôn render lại sau mỗi lần State thay đổi.
</p>
<p>
  gọi hàm loadUser -&gt; setDataUsers -&gt; render lại -&gt; loadUser .... (lặp
  vô hạn , oẳng dự án)
</p>
<p class="text-danger">Chắc phải có giải pháp nào chứ nhỉ</p>

<h2 class="heading">useEffect Hook</h2>
<p class="text-warning">
  Trước tiên hãy thử thêm đoạn code này

  <img src="img/chap11/2.png" width="100%" alt="" />
  <p class="text-danger">Oh!! Code chạy từ dưới lên :v</p>
  
  <img src="img/chap11/3.png" width="100%" alt="" />
</p>

<p class="text-info">Nói đơn giản hàm useEffect sẽ giúp chúng ta can thiệp vào giai đoạn Update (có thay đổi 1 giá trị nào đó mới render dao diện ) thay vì chạy tùm lum vô hạn.</p>
<p>Oh z là ném hàm loadUsers vào useEffect là fix đc  thôi.
  <img src="img/chap11/4.png" width="100%" alt="" />
  <img src="img/chap11/5.png" width="100%" alt="" />

  
 

</p>
<p class="text-warning">Vậy UseEffect làm được gì ?</p>

<p>Như đã học mỗi lần ta thay đổi State =&gt; re-render dao diện và mình sẽ chạy 1 hàm sum() để chạy cùng với quá trình đó (side effect) </p>
<ol>
  UseEffect sẽ giúp ta
  <li>Quản lí các công việc side Effect tránh việc re-render không cần thiết  </li>

</ol>
<h2 class="text-warning">Cách dùng</h2>
<b>cú pháp : useEffect(callback(),dependencies)</b>
<ul>
  Các trường hợp 
  <li>dependencies là null hoặc undefined : component re-render , callback sẽ chạy</li>

  <li>dependencies là mảng rỗng [] : callback sẽ chạy 1 lần duy nhất khi component được mouted </li>
  <li>dependencies là mảng chứa các biến [variable , variable , ]: callback chỉ chạy khi  1 trong các variable thay đổi  </li>
  <li>cleanup(unmount) : callback trả về 1 function  , <b>cleanup chỉ chạy từ lần 2 trở đi</b></li>
</ul>

<h2 class="heading"> Test api với useEffect Hook</h2>

<p class="warning">Ok! 1 Núi lí thuyết và giờ ta sẽ đi vào thực hành.</p>
<p>Mình sẽ có 1 component Photo để chứa danh sách ảnh chẳng hạn</p>
  <img src="img/chap11/6.png" width="80%" alt="" />
 <p> cái này là do ảnh bên backend không có nhé , mọi người ra thế này là được :v </p>
  <img src="img/chap11/7.png" width="80%" alt="" />
